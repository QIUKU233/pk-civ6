# 前言

- 这是以 “我的[官方数据库的基础相通部分](https://gitee.com/XPPK/pk-civ6/blob/master/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%AE%98%E6%96%B9Date%E5%9F%BA%E7%A1%80%E5%85%B1%E9%80%9A.md)”的总结和“[H佬的文明6教程](https://space.bilibili.com/28399130)”为前缀--**所延续细讲内容**
- 我的在"官方数据库的基础相通部分"这里讲过的，这里就省略不讲了，默认已经知道了，包括
    - **各种Type变量**在**Types表**的建立步骤，注意所有的新建Type变量，均要到这个表格“注册”赋予“**实际类型King**”
    - 修改器绑**各种Type变量**步骤

**注意：**
- 这里不是官方所有表的整理，只能说是总结了我感兴趣的表(这些表应该可以囊括大部分modder写mod要涉及的表)
- **默认值**为“NULL”表示默认值为**空**,不是文本
- 在“**值类型**”后面加了“:star:”则表示为必填的值，注意你要么不在这个表增加新的值，要么建立这些必填的就必须进行定义
- 注释前面有**GS**表示是风云变幻内容，**RF**是迭起兴衰内容
- 我各个表具体介绍中**表可填参数**会顺带中文讲一下大体是什么，然后如果有补充则是在**注释**
- **核心表**是你所要创建对象**必须拥有**的**表**，而其他表则可有可无，没有强制要求,核心表我会加以说明(例如定义单位就必须要在他核心表Units先定义)
- 重申**Types表**重要性看这里前言讲了

---

# 一. 文明
## 文明的核心表
### Civilizations
- 定义文明的核心表
```
<!-- PS：Civilizations 是直接定义这个文明的主要参数，其中Ethnicity我们无法增加定义官方没给接口，只能用官方的值，或为空 -->
```

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| Name="文明名称文本变量" | LocalizedText:star: | NULL | 例如‘小日本’
| Description="文明名称全称变量" | TEXT | NULL | 例如‘小日本渣国’
| Adjective="文明的形容词" | TEXT:star: | NULL | 在介绍文明所拥有的东西时用到的文本，例如‘渣渣日本的’
| RandomCityNameDepth="文明城市名随机数" | INTEGER | 1 | 这个和城市随机名称有关
| StartingCivilizationLevelType="文明级别" | TEXT:star: | NULL | 决定了文明的级别，指向CivilizationLevels表
| Ethnicity="文明种族类型" | TEXT | NULL | 这个决定文明是什么大类种族，影响文明整体模型风格

- **RandomCityNameDepth**：这个机制是这样的首先你在CityNames表例如定义了30个城市名字并绑到了这个文明，那么这个文明就有了一个有30个城市名称的库
    - 然后你这里RandomCityNameDepth定义了10个，那么你下一次建立城市，那么城市名称就是会取这个文明城市名称库前面10个未使用的名称
    - 最后行随机选择，作为城市名称（当然首都名称例外）
    - 如果你的城市名称库全用完就会按整个CityNames表的城市名称ID顺序依次给与（当然这里会排除游戏中已经使用的）

<details><summary>官方定义的StartingCivilizationLevelType</summary>

- 共4个，是在CivilizationLevels表定义，对应这个表的CivilizationLevelType，这个表暂未深入研究
- PS：城邦也有各自文明和领袖。野蛮人，自由城市也是对应文明，可以通过把修改器所绑的特性把他们的文明上给予修改

| CivilizationLevelType         | 注释
| ----------------------------- | -------------- 
| CIVILIZATION_LEVEL_TRIBE      | 部落，野蛮人文明
| CIVILIZATION_LEVEL_CITY_STATE | 城邦次级文明
| CIVILIZATION_LEVEL_FULL_CIV   | 完整的主要文明
| CIVILIZATION_LEVEL_FREE_CITIES| RF&GS自由城市(叛军)
</details><details><summary>官方给的Ethnicity</summary>

PS：共5个

|       Ethnicity        | 对应文本
| ---------------------- | -------------- 
| ETHNICITY_ASIAN        | 亚洲人
| ETHNICITY_AFRICAN      | 非洲人
| ETHNICITY_EURO         | 欧洲人
| ETHNICITY_MEDIT        | 地中海
| ETHNICITY_SOUTHAM      | 南美人
</details>

### CivilizationLeaders
- **文明**和**领袖**绑一起的表，顺带还包括定义这个领袖首都的功能，这个是必须的，否则没有领袖的文明，是无法玩的
```
<!-- PS：CivilizationLeaders 表是定义领袖所属文明的，是将领袖和文明绑一起的表 -->
```

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| LeaderType="领袖Type变量" | TEXT:star: | NULL |
| CapitalName="首都城市文本" | TEXT:star: | NULL | 这里填入“从定义的城市库”里选出首都名称的文本变量

## 文明的相关文本信息补充
### CivilizationInfo
- 文明在百科的一些信息
```
<!-- PS：CivilizationInfo表是补充这个文明的一些信息，以便与在文明百科显示，这个表可不填 -->
```

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| Header="标题文本变量" | TEXT:star: | NULL | 官方共给了四个介绍标题，我们可以根据自己需要增加
| Caption="说明文本变量" | TEXT:star: | NULL | 对应标题的说明文本
| SortIndex="排序索引" | INTEGER | 100 | 越小这个文本排序越前面，例如人口说明如果序列未20，规模说明序列为30，那么人口会排到规模前面
<details><summary>官方给的Header文本变量以及对应SortIndex值</summary>
PS：共4个

| SortIndex |       Header           | 文本内容
| :-------: | :--------------------- | :---------:
| 10        | LOC_CIVINFO_LOCATION   | 位置
| 20        | LOC_CIVINFO_SIZE       | 规模
| 30        | LOC_CIVINFO_POPULATION | 人口
| 40        | LOC_CIVINFO_CAPITAL    | 首都
</details>

### CityNames
- 文明的城市名称库？亦或者也可以用来建立领袖城市名称库？？？
```
<!-- PS：CityNames 表是定义这个文明所附属城市名称库， 官方都是只定义CityName和 CivilizationType-->
```

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| ID="城市名称ID?" | INTEGER | NULL | 这个不用我们定义会自动生成的，定义会不会有问题，未知?
| CivilizationType="文明Type变量" | TEXT | NULL | 官方都是绑的文明
| LeaderType="领袖Type变量" | TEXT | NULL | 这个都没用的官方全为默认值NULL，或许可以绑领袖建立城市名称库，有待测试
| CityName="城市名称文本变量" | TEXT:star: | NULL |
| ContinentType="几率等级" | TEXT | NULL | 这个数值越小，出生点相邻概率越大共-1~5这6个级别，-1则基本百分比会相邻
| SortIndex="排序索引" | INTEGER | 0 | 这个应该是没用的官方全为默认值0,与ID参数功能重复

### CivilizationCitizenNames
- 文明的公民名字
```
<!-- PS：CivilizationCitizenNames 表是定义这个文明的公民名字，按官方例子建议定义40个10男/10女/10男工业/10女工业 -->
```

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| CitizenName="公民名字文本变量" | TEXT:star: | NULL |
| Female="公民性别" | BOOLEAN | false | 默认false为男性，true女性
| Modern="电器时代以后出现的名字" | BOOLEAN | false | 当为true时，这个公民名字将在电气时代后出现

## 文明出生点相邻表
- 我们可以定义文明初始点附件我们想要的地貌，资源，地形，沿河（如果不定义则默认随机）
- Tier几率等级，这个数值越小，出生点相邻概率越大，貌似共-1和1~5这6个级别，-1则基本百分比会相邻，为0就不晓得待测试，-1的效果也是早期笔记，无法肯定，待测试"
### StartBiasFeatures
- 出生点地貌概率
```
<!-- PS：StartBiasFeatures 表是定义这个文明出生点附近拥有特定地貌的概率的 -->
```

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| FeatureType="地貌Type变量" | TEXT:star: | NULL |
| Tier="几率等级" | INTEGER | -1 | 

### StartBiasResources
- 出生点资源概率
```
<!-- PS：StartBiasResources 表是定义这个文明出生点附近拥有特定资源的概率的 -->
```

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| ResourceType="资源Type变量" | TEXT:star: | NULL |
| Tier="几率等级" | INTEGER | -1 | 

### StartBiasTerrains
- 出生点地形概率
```
<!-- PS：StartBiasTerrains 表是定义这个文明出生点附近拥有特定地形的概率的 -->
```

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| TerrainType="地形Type变量" | TEXT:star: | NULL |
| Tier="几率等级" | INTEGER | -1 | 

### StartBiasRivers
- 出生点河流相邻概率
```
<!-- PS：StartBiasRivers 表是定义这个文明出生点附近拥有特定地形的概率的 -->
```

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| Tier="几率等级" | INTEGER | -1 |

## 文明专属地理名称
- **注意这7个表是GS新增加的表，不支持标准和RF**
### “NamedXXXXCivilizations”
- 这里“**XXXX**”表示7个表的不同地理
- 在使用这7个表时，记得先到对应的“NamedXXXXs表”对地理名称进行定义

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| NamedXXXXType="对应XXXX的地形名称Type变量" | TEXT:star: | NULL | 分别指向对应的XXXX地理名称定义表-“NamedXXXXs表”

<details><summary>“NamedXXXXs表”</summary>
PS：共有7个定义地理名称的表

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| NamedXXXXType="对应XXXX的地形名称Type变量" | TEXT:star: | NULL |
| Text="文本或文本变量" | TEXT:star: | NULL | 这里就是这个地理的文本
</details><details><summary>具体XXXX对象讲解</summary>
PS：如果不绑文明那么，这些地理名称将是公共的地理名

|      NamedXXXXCivilizations表      | :rewind:NamedXXXXType      |      :rewind:NamedXXXXs表      | 注释
| ---------------------------------- | -------------------------- | ------------------------------ | --------
|      NamedDesertCivilizations      | :rewind:NamedDesertType    |      :rewind:NamedDeserts      | 沙漠地理名称
|      NamedLakeCivilizations        | :rewind:NamedLakeType      |      :rewind:NamedLakes        | 地理名称
|      NamedMountainCivilizations    | :rewind:NamedMountainType  |      :rewind:NamedMountains    | 山/山脉地理名称
|      NamedVolcanoCivilizations     | :rewind:NamedVolcanoType   |      :rewind:NamedVolcanos     | 火山地理名称
|      NamedRiverCivilizations       | :rewind:NamedRiverType     |      :rewind:NamedRivers       | 河流地理名称
|      NamedSeaCivilizations         | :rewind:NamedSeaType       |      :rewind:NamedSeas         | 海洋地理名称
|      NamedOceanCivilizations       | :rewind:NamedOceanType     |      :rewind:NamedOceans       | 大洋地理名称

-  首先在NamedXXXXs表定义地理文本Type和对应文本，在通过NamedXXXXCivilizations表表将地理文本与文明绑到一起
</details>

## 文明其他相关表
### CivilizationTraits
- 已经在基础教程讲了这里不在具体讲述，如果有需要，请回看基础教程
- **CivilizationTraits 表**是将TraitType绑到CivilizationType领袖的，让TraitType成为了领袖特性，或是TraitType绑定的单位/建筑等等成为文明特殊单位/建筑等等 

### CivilizationAudioTags
- 这表优妮带佬评价可有可无，总之文明的音乐建议抄优妮按优妮佬教程来，这方面我目前不会
    - [优妮mod项目&教程](https://github.com/dwughjsd/LandsolYuni_civ6mod)
    - 统计官方只在越南，葡萄牙有用这个表，这里吐槽一下官方的音乐系统bug蛮多，这或许是官方的一个改进方法，总之bug依然存在
```
<!-- PS：这个表应该是可以不填,这个表的MusicOverride为true，则对应文明会无视civilizations.artdef关于音乐配置，
	 带来的表现是无视的civilizations.artdef音乐切换，直接触发该文明的音乐播放事件.-->
```

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| MusicOverride="音乐覆盖" | BOOLEAN:star: | NULL | 为true，则文明无视civilizations.artdef的音乐配置

### DuplicateCivilizations
- **这个表官方虽然有设定但没有使用用了，数据库内为空**
- 据**鲨佬**研究测试，这个表可用，就是将两个实际定义的不同文明绑在一起视为同一个文明，可以实现同一个文明对应不同领袖具有不同美术素材
- 领袖也有一个类似的表是DuplicateLeaders这个表官方是有使用的，效果就是将实际定义的不同领袖绑在一起视为同一个领袖，效果就是同一个领袖可以是不同文明领导者
```lua
-- ps:具体使用方法举例：定义两个不同领袖，和两个文明，然后将文明同通过这个表绑到一起，就会实现同一个文明下不同领袖有不同的文明素材，鲨佬的例子就是地灵殿mod
```
| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| CivilizationType="文明Type变量" | TEXT:star: | NULL |
| OtherCivilizationType="另一个文明Type变量" | TEXT:star: | NULL | 这里的文明将被视为和CivilizationType是同一个文明


---

# 二. 领袖
- 讲之前先扩展一些概念：
    - 根据文明在游戏中实际表现可分为主要文明，次要文明(又可分：野蛮人领袖，城邦领袖，自由城市领袖，其中城邦领袖是每个城邦一个领袖)
    - 而从实际代码游戏框架，还有一个特殊的领袖种类——“虚拟领袖”，它实际用处相当于一种对领袖进行分类集合，类似于单位的大类class，后面用到会具体讲解。
## 领袖的核心表
### Leaders
- 定义领袖的核心表
```lua
-- ps：
```
| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| LeaderType="领袖Type变量" | TEXT:star: | NULL | 
| Name="领袖文本变量" | TEXT:star: | NULL |


---

# 三. 议程


---

# 四. 单位


---

# 五. 相邻加成


---

# 六. 改良


---

# 七. 区域

## 区域在核心表

### Districts
- 这个表是区域的核心表

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| DistrictType="区域Type变量" | TEXT:star: | NULL | 

### Districts_XP2
- 这个是风云变幻新增表不支持标准版和RF，可以理解为Districts表的GS额外补充，为GS模式增加一些额外的接口

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| DistrictType="区域Type变量" | TEXT:star: | NULL | 

## 区域的各种产出表
- 区域有多个产出表

### District_CitizenYieldChanges
- 这个是直接定义在区域公民(人口)的工作后这里公民产量增加变化

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| DistrictType="区域Type变量" | TEXT:star: | NULL | 
| YieldType="产出Type变量" | TEXT:star: | NULL | 这里定义要修改的产出类型
| YieldChange="产出数值" | INTEGER | 0 | 这里定义要修改的产出类型的数量

### District_GreatPersonPoints
- 这个是直接区域建立后就拥有的伟人类型点数产量

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| DistrictType="区域Type变量" | TEXT:star: | NULL | 
| GreatPersonClassType="伟人类型Type变量" | TEXT:star: | NULL | 这里定义产出的伟人点数的伟人类型
| PointsPerTurn="产出数值" | INTEGER | 0 | 这里定义每回合产出这种伟人类型点数数量

### District_CitizenGreatPersonPoints
- 这个是直接定义在区域公民的工作后这里伟人类型点数产量增加变化

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| DistrictType="区域Type变量" | TEXT:star: | NULL | 
| GreatPersonClassType="伟人类型Type变量" | TEXT:star: | NULL | 这里定义产出的伟人点数的伟人类型
| PointsPerTurn="产出数值" | INTEGER | 0 | 这里定义每回合每个在这里工作公民(人口)产出这种伟人类型点数数量

**PS**:注意这个表的里PointsPerTurn的数值要填你想设置数值的一半(游戏中这个产量是PointsPerTurn的2倍,这难道是BUG??)

### District_Adjacencies
- 这个是表是将区域和相邻加成绑定的表,具体的相邻加成关系需要到表Adjacency_YieldChanges表定义

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| DistrictType="区域Type变量" | TEXT:star: | NULL | 
| YieldChangeId="相邻加成产出ID" | TEXT:star: | NULL | 这里指向Adjacency_YieldChanges表定义的相邻加成ID

### District_TradeRouteYields
- 这个是表是区域给予商路贸易产出增加变化

| 表可填参数 | 值类型 | 默认值 | 注释
| -- | -- | :--: | --
| DistrictType="区域Type变量" | TEXT:star: | NULL | 
| YieldChangeId="相邻加成产出ID" | TEXT:star: | NULL | 这里指向Adjacency_YieldChanges表定义的相邻加成ID

---

# 八. 建筑/奇观
- 奇观本质是一种特殊建筑，但又与区域有一定关系，这里我们会细讲



---

# 九. 政策
